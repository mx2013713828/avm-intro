# 📋 环视拼接系统 TODO 简报 (Brief)

本档旨在提供开发状态的精简概览。详细实现方案请参考 [TODO.md](./TODO.md)。

---

## ✅ 已完成任务 (Done)

- **基础架构 (Phase 0)**
  - [x] 单路 V4L2 摄像头采集与 NVMM 内存管理
  - [x] 基于 NvVideoEncoder 的 H.264 硬件编码
  - [x] RTSP Server 推流管道搭建
  - [x] real/sim 双模架构, 支持X86与jetson上进行仿真、jetson上实车运行。
  - [x] 使用ROECS数据集仿真测试四路视频CUDA拼接、推流
- **算法原型与验证 (Phase A1)**
  - [x] Python 版 2D 拼接算法原型 (LUT 查表法)
  - [x] C++ 版 `Surrounder` 类定义及 CUDA 核心函数移植
  - [x] 伪零拷贝
  - [x] 离线仿真测试 (单目模拟四目分屏验证)

---

## 🚧 需求任务 (To-Do)

### 1. 2D 鸟瞰图模式 (Path A )

- [x] **拼接优化 (Stitching Optimization)**：已实现基于距离的边缘羽化、30°超宽融合带，以及基于闭环能量平衡的 3 通道 BGR 亮度/色彩自动对齐。难度: ⭐⭐⭐
- [ ] **真·零拷贝 (Zero-copy)**：(当前重点) 在实车模式下彻底打通 NVMM -> CUDA -> NVENC 的硬件链路，消除 CPU 参与。难度: ⭐⭐⭐⭐
- [ ] **动态外参 (Dynamic Extrinsic)**：集成在线标定算法，实现行驶过程中的外参自动校正与 LUT 实时更新。难度: ⭐⭐⭐⭐⭐
- [ ] **3D 模式集成**：将 2D 优化成果迁移至 OpenGL ES 渲染管线。难度: ⭐⭐⭐
- [ ] **透明底盘 (Transparent Chassis)**：(低优先级) 通过历史帧与车速补偿实现车底地面还原。难度: ⭐⭐⭐⭐

### 2. 3D 碗状渲染模式 (Path B )
- [ ] **几何建模**：生成 3D Bowl Mesh (顶点与 UV 坐标计算)。难度: ⭐⭐⭐⭐
- [ ] **渲染管线**：搭建 OpenGL ES 3.2 离屏渲染环境 (EGL Headless)。 难度: ⭐⭐⭐⭐⭐
- [ ] **互动操作**：实现 NVMM 与 OpenGL 纹理的 EGLImage 共享，降低开销。难度: ⭐⭐⭐⭐⭐
- [ ] **推流拉流**：实现 二进制 mesh文推流与远程展示 。难度: ⭐⭐⭐
- [ ] **管道集成**：3D模式的推流管道集成与零拷贝实现。难度: ⭐⭐⭐⭐⭐

### 3. 实时外参标定
- [ ] **实时标定算法**：ROECS 等算法代码调试。难度: ⭐⭐⭐
- [ ] **算法评估**:标定可靠性与实时性分析。难度: ⭐⭐⭐
- [ ] **算法优化**: 优化开源算法，达到可靠性与实时性要求。难度: ⭐⭐⭐⭐

---


